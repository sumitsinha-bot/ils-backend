{"level":"info","message":"Initializing services...","timestamp":"2025-09-19T07:33:14.131Z"}
{"level":"info","message":"Database connected","timestamp":"2025-09-19T07:33:14.161Z"}
{"level":"info","message":"All services initialized successfully","timestamp":"2025-09-19T07:33:14.161Z"}
{"level":"info","message":"Server running on port 5000","timestamp":"2025-09-19T07:33:14.163Z"}
{"level":"info","message":"Initializing services...","timestamp":"2025-09-19T10:24:40.038Z"}
{"level":"info","message":"Database connected","timestamp":"2025-09-19T10:24:40.082Z"}
{"level":"info","message":"Creating 8 mediasoup workers","timestamp":"2025-09-19T10:24:40.083Z"}
{"level":"info","message":"Mediasoup initialized with 8 workers","timestamp":"2025-09-19T10:24:40.218Z"}
{"address":"127.0.0.1","code":"ECONNREFUSED","errno":-111,"level":"error","message":"RabbitMq connection error connect ECONNREFUSED 127.0.0.1:5672","port":5672,"stack":"Error: connect ECONNREFUSED 127.0.0.1:5672\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1611:16)","syscall":"connect","timestamp":"2025-09-19T10:24:40.223Z"}
{"level":"info","message":"Attempting RabbitMQ reconnection 1/10","timestamp":"2025-09-19T10:24:40.223Z"}
{"level":"info","message":"Redis client connected","timestamp":"2025-09-19T10:24:40.228Z"}
{"level":"info","message":"Redis client ready","timestamp":"2025-09-19T10:24:40.231Z"}
{"level":"info","message":"Redis connected successfully","timestamp":"2025-09-19T10:24:40.231Z"}
{"level":"info","message":"All services initialized successfully","timestamp":"2025-09-19T10:24:40.232Z"}
{"level":"info","message":"Server running on port 5000","timestamp":"2025-09-19T10:24:40.233Z"}
{"address":"127.0.0.1","code":"ECONNREFUSED","errno":-111,"level":"error","message":"RabbitMq connection error connect ECONNREFUSED 127.0.0.1:5672","port":5672,"stack":"Error: connect ECONNREFUSED 127.0.0.1:5672\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1611:16)","syscall":"connect","timestamp":"2025-09-19T10:24:45.227Z"}
{"level":"info","message":"Attempting RabbitMQ reconnection 2/10","timestamp":"2025-09-19T10:24:45.229Z"}
{"address":"127.0.0.1","code":"ECONNREFUSED","errno":-111,"level":"error","message":"RabbitMq connection error connect ECONNREFUSED 127.0.0.1:5672","port":5672,"stack":"Error: connect ECONNREFUSED 127.0.0.1:5672\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1611:16)","syscall":"connect","timestamp":"2025-09-19T10:24:55.233Z"}
{"level":"info","message":"Attempting RabbitMQ reconnection 3/10","timestamp":"2025-09-19T10:24:55.234Z"}
{"level":"info","message":"Initializing services...","timestamp":"2025-09-19T11:36:48.534Z"}
{"level":"info","message":"Database connected","timestamp":"2025-09-19T11:36:48.562Z"}
{"level":"info","message":"Initializing services...","timestamp":"2025-09-19T11:37:08.711Z"}
{"level":"info","message":"Database connected","timestamp":"2025-09-19T11:37:08.737Z"}
{"level":"info","message":"Creating 8 mediasoup workers","timestamp":"2025-09-19T11:37:08.901Z"}
{"level":"info","message":"Mediasoup initialized with 8 workers","timestamp":"2025-09-19T11:37:09.008Z"}
{"address":"127.0.0.1","code":"ECONNREFUSED","errno":-111,"level":"error","message":"RabbitMq connection error connect ECONNREFUSED 127.0.0.1:5672","port":5672,"stack":"Error: connect ECONNREFUSED 127.0.0.1:5672\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1611:16)","syscall":"connect","timestamp":"2025-09-19T11:37:09.012Z"}
{"level":"info","message":"Attempting RabbitMQ reconnection 1/10","timestamp":"2025-09-19T11:37:09.012Z"}
{"level":"info","message":"Redis client connected","timestamp":"2025-09-19T11:37:09.018Z"}
{"level":"info","message":"Redis client ready","timestamp":"2025-09-19T11:37:09.022Z"}
{"level":"info","message":"Redis connected successfully","timestamp":"2025-09-19T11:37:09.023Z"}
{"level":"info","message":"All services initialized successfully","timestamp":"2025-09-19T11:37:09.023Z"}
{"level":"info","message":"ðŸš€ ILS Server running on port 3001","timestamp":"2025-09-19T11:37:09.025Z"}
{"level":"info","message":"ðŸ“Š Health check: http://localhost:3001/health","timestamp":"2025-09-19T11:37:09.026Z"}
{"address":"127.0.0.1","code":"ECONNREFUSED","errno":-111,"level":"error","message":"RabbitMq connection error connect ECONNREFUSED 127.0.0.1:5672","port":5672,"stack":"Error: connect ECONNREFUSED 127.0.0.1:5672\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1611:16)","syscall":"connect","timestamp":"2025-09-19T11:37:14.017Z"}
{"level":"info","message":"Attempting RabbitMQ reconnection 2/10","timestamp":"2025-09-19T11:37:14.018Z"}
{"address":"127.0.0.1","code":"ECONNREFUSED","errno":-111,"level":"error","message":"RabbitMq connection error connect ECONNREFUSED 127.0.0.1:5672","port":5672,"stack":"Error: connect ECONNREFUSED 127.0.0.1:5672\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1611:16)","syscall":"connect","timestamp":"2025-09-19T11:37:24.024Z"}
{"level":"info","message":"Attempting RabbitMQ reconnection 3/10","timestamp":"2025-09-19T11:37:24.025Z"}
{"address":"127.0.0.1","code":"ECONNREFUSED","errno":-111,"level":"error","message":"RabbitMq connection error connect ECONNREFUSED 127.0.0.1:5672","port":5672,"stack":"Error: connect ECONNREFUSED 127.0.0.1:5672\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1611:16)","syscall":"connect","timestamp":"2025-09-19T11:37:39.029Z"}
{"level":"info","message":"Attempting RabbitMQ reconnection 4/10","timestamp":"2025-09-19T11:37:39.030Z"}
{"address":"127.0.0.1","code":"ECONNREFUSED","errno":-111,"level":"error","message":"RabbitMq connection error connect ECONNREFUSED 127.0.0.1:5672","port":5672,"stack":"Error: connect ECONNREFUSED 127.0.0.1:5672\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1611:16)","syscall":"connect","timestamp":"2025-09-19T11:37:59.036Z"}
{"level":"info","message":"Attempting RabbitMQ reconnection 5/10","timestamp":"2025-09-19T11:37:59.037Z"}
{"address":"127.0.0.1","code":"ECONNREFUSED","errno":-111,"level":"error","message":"RabbitMq connection error connect ECONNREFUSED 127.0.0.1:5672","port":5672,"stack":"Error: connect ECONNREFUSED 127.0.0.1:5672\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1611:16)","syscall":"connect","timestamp":"2025-09-19T11:38:24.043Z"}
{"level":"info","message":"Attempting RabbitMQ reconnection 6/10","timestamp":"2025-09-19T11:38:24.044Z"}
{"address":"127.0.0.1","code":"ECONNREFUSED","errno":-111,"level":"error","message":"RabbitMq connection error connect ECONNREFUSED 127.0.0.1:5672","port":5672,"stack":"Error: connect ECONNREFUSED 127.0.0.1:5672\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1611:16)","syscall":"connect","timestamp":"2025-09-19T11:38:54.049Z"}
{"level":"info","message":"Attempting RabbitMQ reconnection 7/10","timestamp":"2025-09-19T11:38:54.049Z"}
{"address":"127.0.0.1","code":"ECONNREFUSED","errno":-111,"level":"error","message":"RabbitMq connection error connect ECONNREFUSED 127.0.0.1:5672","port":5672,"stack":"Error: connect ECONNREFUSED 127.0.0.1:5672\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1611:16)","syscall":"connect","timestamp":"2025-09-19T11:39:29.058Z"}
{"level":"info","message":"Attempting RabbitMQ reconnection 8/10","timestamp":"2025-09-19T11:39:29.059Z"}
{"address":"127.0.0.1","code":"ECONNREFUSED","errno":-111,"level":"error","message":"RabbitMq connection error connect ECONNREFUSED 127.0.0.1:5672","port":5672,"stack":"Error: connect ECONNREFUSED 127.0.0.1:5672\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1611:16)","syscall":"connect","timestamp":"2025-09-19T11:40:09.070Z"}
{"level":"info","message":"Attempting RabbitMQ reconnection 9/10","timestamp":"2025-09-19T11:40:09.071Z"}
{"level":"info","message":"Initializing services...","timestamp":"2025-09-19T11:40:20.999Z"}
{"level":"info","message":"Database connected","timestamp":"2025-09-19T11:40:21.038Z"}
{"level":"info","message":"Creating 8 mediasoup workers","timestamp":"2025-09-19T11:40:21.039Z"}
{"level":"info","message":"Mediasoup initialized with 8 workers","timestamp":"2025-09-19T11:40:21.141Z"}
{"address":"127.0.0.1","code":"ECONNREFUSED","errno":-111,"level":"error","message":"RabbitMq connection error connect ECONNREFUSED 127.0.0.1:5672","port":5672,"stack":"Error: connect ECONNREFUSED 127.0.0.1:5672\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1611:16)","syscall":"connect","timestamp":"2025-09-19T11:40:21.144Z"}
{"level":"info","message":"Attempting RabbitMQ reconnection 1/10","timestamp":"2025-09-19T11:40:21.145Z"}
{"level":"info","message":"Redis client connected","timestamp":"2025-09-19T11:40:21.148Z"}
{"level":"info","message":"Redis client ready","timestamp":"2025-09-19T11:40:21.151Z"}
{"level":"info","message":"Redis connected successfully","timestamp":"2025-09-19T11:40:21.152Z"}
{"level":"info","message":"All services initialized successfully","timestamp":"2025-09-19T11:40:21.152Z"}
{"level":"info","message":"Server running on port 5000","timestamp":"2025-09-19T11:40:21.155Z"}
{"address":"127.0.0.1","code":"ECONNREFUSED","errno":-111,"level":"error","message":"RabbitMq connection error connect ECONNREFUSED 127.0.0.1:5672","port":5672,"stack":"Error: connect ECONNREFUSED 127.0.0.1:5672\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1611:16)","syscall":"connect","timestamp":"2025-09-19T11:40:26.152Z"}
{"level":"info","message":"Attempting RabbitMQ reconnection 2/10","timestamp":"2025-09-19T11:40:26.154Z"}
{"level":"info","message":"Shutting down gracefully...","timestamp":"2025-09-19T11:40:35.702Z"}
{"level":"info","message":"Cleaning up MediaService...","timestamp":"2025-09-19T11:40:35.708Z"}
{"level":"info","message":"RabbitMQ connection closed","timestamp":"2025-09-19T11:40:35.720Z"}
{"level":"info","message":"Redis disconnected","timestamp":"2025-09-19T11:40:35.721Z"}
{"level":"info","message":"SIGTERM received, shutting down gracefully","timestamp":"2025-09-19T11:40:39.295Z"}
{"level":"info","message":"Cleaning up MediaService...","timestamp":"2025-09-19T11:40:39.295Z"}
{"level":"info","message":"RabbitMQ connection closed","timestamp":"2025-09-19T11:40:39.299Z"}
{"level":"info","message":"Redis disconnected","timestamp":"2025-09-19T11:40:39.300Z"}
{"level":"info","message":"Initializing services...","timestamp":"2025-09-19T11:43:36.353Z"}
{"level":"info","message":"Database connected","timestamp":"2025-09-19T11:43:36.385Z"}
{"level":"info","message":"Creating 8 mediasoup workers","timestamp":"2025-09-19T11:43:36.386Z"}
{"level":"info","message":"Mediasoup initialized with 8 workers","timestamp":"2025-09-19T11:43:36.491Z"}
{"address":"127.0.0.1","code":"ECONNREFUSED","errno":-111,"level":"error","message":"RabbitMq connection error connect ECONNREFUSED 127.0.0.1:5672","port":5672,"stack":"Error: connect ECONNREFUSED 127.0.0.1:5672\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1611:16)","syscall":"connect","timestamp":"2025-09-19T11:43:36.494Z"}
{"level":"info","message":"Attempting RabbitMQ reconnection 1/10","timestamp":"2025-09-19T11:43:36.495Z"}
{"level":"info","message":"Redis client connected","timestamp":"2025-09-19T11:43:36.499Z"}
{"level":"info","message":"Redis client ready","timestamp":"2025-09-19T11:43:36.501Z"}
{"level":"info","message":"Redis connected successfully","timestamp":"2025-09-19T11:43:36.502Z"}
{"level":"info","message":"All services initialized successfully","timestamp":"2025-09-19T11:43:36.502Z"}
{"level":"info","message":"Server running on port 5000","timestamp":"2025-09-19T11:43:36.504Z"}
{"address":"127.0.0.1","code":"ECONNREFUSED","errno":-111,"level":"error","message":"RabbitMq connection error connect ECONNREFUSED 127.0.0.1:5672","port":5672,"stack":"Error: connect ECONNREFUSED 127.0.0.1:5672\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1611:16)","syscall":"connect","timestamp":"2025-09-19T11:43:41.503Z"}
{"level":"info","message":"Attempting RabbitMQ reconnection 2/10","timestamp":"2025-09-19T11:43:41.504Z"}
{"address":"127.0.0.1","code":"ECONNREFUSED","errno":-111,"level":"error","message":"RabbitMq connection error connect ECONNREFUSED 127.0.0.1:5672","port":5672,"stack":"Error: connect ECONNREFUSED 127.0.0.1:5672\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1611:16)","syscall":"connect","timestamp":"2025-09-19T11:43:51.509Z"}
{"level":"info","message":"Attempting RabbitMQ reconnection 3/10","timestamp":"2025-09-19T11:43:51.510Z"}
{"level":"info","message":"Shutting down gracefully...","timestamp":"2025-09-19T11:44:04.906Z"}
{"level":"info","message":"Initializing services...","timestamp":"2025-09-19T11:44:32.870Z"}
{"level":"info","message":"Database connected","timestamp":"2025-09-19T11:44:32.908Z"}
{"level":"info","message":"Creating 8 mediasoup workers","timestamp":"2025-09-19T11:44:32.909Z"}
{"level":"info","message":"Mediasoup initialized with 8 workers","timestamp":"2025-09-19T11:44:33.018Z"}
{"level":"error","message":"RabbitMq connection error Socket closed abruptly during opening handshake","stack":"Error: Socket closed abruptly during opening handshake\n    at Socket.endWhileOpening (/home/pps024/Desktop/ils/backend/node_modules/amqplib/lib/connection.js:214:19)\n    at Socket.emit (node:events:530:35)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:82:21)","timestamp":"2025-09-19T11:44:33.023Z"}
{"level":"info","message":"Attempting RabbitMQ reconnection 1/10","timestamp":"2025-09-19T11:44:33.023Z"}
{"level":"info","message":"Redis client connected","timestamp":"2025-09-19T11:44:33.028Z"}
{"level":"info","message":"Redis client ready","timestamp":"2025-09-19T11:44:33.031Z"}
{"level":"info","message":"Redis connected successfully","timestamp":"2025-09-19T11:44:33.032Z"}
{"level":"info","message":"All services initialized successfully","timestamp":"2025-09-19T11:44:33.032Z"}
{"level":"info","message":"Server running on port 5000","timestamp":"2025-09-19T11:44:33.033Z"}
{"level":"error","message":"RabbitMq connection error Handshake terminated by server: 403 (ACCESS-REFUSED) with message \"ACCESS_REFUSED - Login was refused using authentication mechanism PLAIN. For details see the broker logfile.\"","stack":"Error: Handshake terminated by server: 403 (ACCESS-REFUSED) with message \"ACCESS_REFUSED - Login was refused using authentication mechanism PLAIN. For details see the broker logfile.\"\n    at afterStartOk (/home/pps024/Desktop/ils/backend/node_modules/amqplib/lib/connection.js:169:16)\n    at /home/pps024/Desktop/ils/backend/node_modules/amqplib/lib/connection.js:104:11\n    at Socket.recv (/home/pps024/Desktop/ils/backend/node_modules/amqplib/lib/connection.js:453:9)\n    at Object.onceWrapper (node:events:632:28)\n    at Socket.emit (node:events:518:28)\n    at emitReadable_ (node:internal/streams/readable:834:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:81:21)","timestamp":"2025-09-19T11:44:38.029Z"}
{"level":"info","message":"Attempting RabbitMQ reconnection 2/10","timestamp":"2025-09-19T11:44:38.029Z"}
{"level":"error","message":"RabbitMq connection error Handshake terminated by server: 403 (ACCESS-REFUSED) with message \"ACCESS_REFUSED - Login was refused using authentication mechanism PLAIN. For details see the broker logfile.\"","stack":"Error: Handshake terminated by server: 403 (ACCESS-REFUSED) with message \"ACCESS_REFUSED - Login was refused using authentication mechanism PLAIN. For details see the broker logfile.\"\n    at afterStartOk (/home/pps024/Desktop/ils/backend/node_modules/amqplib/lib/connection.js:169:16)\n    at /home/pps024/Desktop/ils/backend/node_modules/amqplib/lib/connection.js:104:11\n    at Socket.recv (/home/pps024/Desktop/ils/backend/node_modules/amqplib/lib/connection.js:453:9)\n    at Object.onceWrapper (node:events:632:28)\n    at Socket.emit (node:events:518:28)\n    at emitReadable_ (node:internal/streams/readable:834:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:81:21)","timestamp":"2025-09-19T11:44:48.043Z"}
{"level":"info","message":"Attempting RabbitMQ reconnection 3/10","timestamp":"2025-09-19T11:44:48.046Z"}
{"level":"error","message":"RabbitMq connection error Handshake terminated by server: 403 (ACCESS-REFUSED) with message \"ACCESS_REFUSED - Login was refused using authentication mechanism PLAIN. For details see the broker logfile.\"","stack":"Error: Handshake terminated by server: 403 (ACCESS-REFUSED) with message \"ACCESS_REFUSED - Login was refused using authentication mechanism PLAIN. For details see the broker logfile.\"\n    at afterStartOk (/home/pps024/Desktop/ils/backend/node_modules/amqplib/lib/connection.js:169:16)\n    at /home/pps024/Desktop/ils/backend/node_modules/amqplib/lib/connection.js:104:11\n    at Socket.recv (/home/pps024/Desktop/ils/backend/node_modules/amqplib/lib/connection.js:453:9)\n    at Object.onceWrapper (node:events:632:28)\n    at Socket.emit (node:events:518:28)\n    at emitReadable_ (node:internal/streams/readable:834:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:81:21)","timestamp":"2025-09-19T11:45:03.060Z"}
{"level":"info","message":"Attempting RabbitMQ reconnection 4/10","timestamp":"2025-09-19T11:45:03.061Z"}
{"level":"error","message":"RabbitMq connection error Handshake terminated by server: 403 (ACCESS-REFUSED) with message \"ACCESS_REFUSED - Login was refused using authentication mechanism PLAIN. For details see the broker logfile.\"","stack":"Error: Handshake terminated by server: 403 (ACCESS-REFUSED) with message \"ACCESS_REFUSED - Login was refused using authentication mechanism PLAIN. For details see the broker logfile.\"\n    at afterStartOk (/home/pps024/Desktop/ils/backend/node_modules/amqplib/lib/connection.js:169:16)\n    at /home/pps024/Desktop/ils/backend/node_modules/amqplib/lib/connection.js:104:11\n    at Socket.recv (/home/pps024/Desktop/ils/backend/node_modules/amqplib/lib/connection.js:453:9)\n    at Object.onceWrapper (node:events:632:28)\n    at Socket.emit (node:events:518:28)\n    at emitReadable_ (node:internal/streams/readable:834:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:81:21)","timestamp":"2025-09-19T11:45:23.076Z"}
{"level":"info","message":"Attempting RabbitMQ reconnection 5/10","timestamp":"2025-09-19T11:45:23.077Z"}
{"level":"error","message":"RabbitMq connection error Handshake terminated by server: 403 (ACCESS-REFUSED) with message \"ACCESS_REFUSED - Login was refused using authentication mechanism PLAIN. For details see the broker logfile.\"","stack":"Error: Handshake terminated by server: 403 (ACCESS-REFUSED) with message \"ACCESS_REFUSED - Login was refused using authentication mechanism PLAIN. For details see the broker logfile.\"\n    at afterStartOk (/home/pps024/Desktop/ils/backend/node_modules/amqplib/lib/connection.js:169:16)\n    at /home/pps024/Desktop/ils/backend/node_modules/amqplib/lib/connection.js:104:11\n    at Socket.recv (/home/pps024/Desktop/ils/backend/node_modules/amqplib/lib/connection.js:453:9)\n    at Object.onceWrapper (node:events:632:28)\n    at Socket.emit (node:events:518:28)\n    at emitReadable_ (node:internal/streams/readable:834:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:81:21)","timestamp":"2025-09-19T11:45:48.085Z"}
{"level":"info","message":"Attempting RabbitMQ reconnection 6/10","timestamp":"2025-09-19T11:45:48.085Z"}
{"level":"error","message":"RabbitMq connection error Handshake terminated by server: 403 (ACCESS-REFUSED) with message \"ACCESS_REFUSED - Login was refused using authentication mechanism PLAIN. For details see the broker logfile.\"","stack":"Error: Handshake terminated by server: 403 (ACCESS-REFUSED) with message \"ACCESS_REFUSED - Login was refused using authentication mechanism PLAIN. For details see the broker logfile.\"\n    at afterStartOk (/home/pps024/Desktop/ils/backend/node_modules/amqplib/lib/connection.js:169:16)\n    at /home/pps024/Desktop/ils/backend/node_modules/amqplib/lib/connection.js:104:11\n    at Socket.recv (/home/pps024/Desktop/ils/backend/node_modules/amqplib/lib/connection.js:453:9)\n    at Object.onceWrapper (node:events:632:28)\n    at Socket.emit (node:events:518:28)\n    at emitReadable_ (node:internal/streams/readable:834:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:81:21)","timestamp":"2025-09-19T11:46:18.097Z"}
{"level":"info","message":"Attempting RabbitMQ reconnection 7/10","timestamp":"2025-09-19T11:46:18.099Z"}
{"level":"error","message":"RabbitMq connection error Handshake terminated by server: 403 (ACCESS-REFUSED) with message \"ACCESS_REFUSED - Login was refused using authentication mechanism PLAIN. For details see the broker logfile.\"","stack":"Error: Handshake terminated by server: 403 (ACCESS-REFUSED) with message \"ACCESS_REFUSED - Login was refused using authentication mechanism PLAIN. For details see the broker logfile.\"\n    at afterStartOk (/home/pps024/Desktop/ils/backend/node_modules/amqplib/lib/connection.js:169:16)\n    at /home/pps024/Desktop/ils/backend/node_modules/amqplib/lib/connection.js:104:11\n    at Socket.recv (/home/pps024/Desktop/ils/backend/node_modules/amqplib/lib/connection.js:453:9)\n    at Object.onceWrapper (node:events:632:28)\n    at Socket.emit (node:events:518:28)\n    at emitReadable_ (node:internal/streams/readable:834:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:81:21)","timestamp":"2025-09-19T11:46:53.111Z"}
{"level":"info","message":"Attempting RabbitMQ reconnection 8/10","timestamp":"2025-09-19T11:46:53.111Z"}
{"level":"error","message":"RabbitMq connection error Handshake terminated by server: 403 (ACCESS-REFUSED) with message \"ACCESS_REFUSED - Login was refused using authentication mechanism PLAIN. For details see the broker logfile.\"","stack":"Error: Handshake terminated by server: 403 (ACCESS-REFUSED) with message \"ACCESS_REFUSED - Login was refused using authentication mechanism PLAIN. For details see the broker logfile.\"\n    at afterStartOk (/home/pps024/Desktop/ils/backend/node_modules/amqplib/lib/connection.js:169:16)\n    at /home/pps024/Desktop/ils/backend/node_modules/amqplib/lib/connection.js:104:11\n    at Socket.recv (/home/pps024/Desktop/ils/backend/node_modules/amqplib/lib/connection.js:453:9)\n    at Object.onceWrapper (node:events:632:28)\n    at Socket.emit (node:events:518:28)\n    at emitReadable_ (node:internal/streams/readable:834:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:81:21)","timestamp":"2025-09-19T11:47:33.114Z"}
{"level":"info","message":"Attempting RabbitMQ reconnection 9/10","timestamp":"2025-09-19T11:47:33.115Z"}
{"level":"error","message":"RabbitMq connection error Handshake terminated by server: 403 (ACCESS-REFUSED) with message \"ACCESS_REFUSED - Login was refused using authentication mechanism PLAIN. For details see the broker logfile.\"","stack":"Error: Handshake terminated by server: 403 (ACCESS-REFUSED) with message \"ACCESS_REFUSED - Login was refused using authentication mechanism PLAIN. For details see the broker logfile.\"\n    at afterStartOk (/home/pps024/Desktop/ils/backend/node_modules/amqplib/lib/connection.js:169:16)\n    at /home/pps024/Desktop/ils/backend/node_modules/amqplib/lib/connection.js:104:11\n    at Socket.recv (/home/pps024/Desktop/ils/backend/node_modules/amqplib/lib/connection.js:453:9)\n    at Object.onceWrapper (node:events:632:28)\n    at Socket.emit (node:events:518:28)\n    at emitReadable_ (node:internal/streams/readable:834:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:81:21)","timestamp":"2025-09-19T11:48:18.126Z"}
{"level":"info","message":"Attempting RabbitMQ reconnection 10/10","timestamp":"2025-09-19T11:48:18.126Z"}
{"level":"error","message":"RabbitMq connection error Handshake terminated by server: 403 (ACCESS-REFUSED) with message \"ACCESS_REFUSED - Login was refused using authentication mechanism PLAIN. For details see the broker logfile.\"","stack":"Error: Handshake terminated by server: 403 (ACCESS-REFUSED) with message \"ACCESS_REFUSED - Login was refused using authentication mechanism PLAIN. For details see the broker logfile.\"\n    at afterStartOk (/home/pps024/Desktop/ils/backend/node_modules/amqplib/lib/connection.js:169:16)\n    at /home/pps024/Desktop/ils/backend/node_modules/amqplib/lib/connection.js:104:11\n    at Socket.recv (/home/pps024/Desktop/ils/backend/node_modules/amqplib/lib/connection.js:453:9)\n    at Object.onceWrapper (node:events:632:28)\n    at Socket.emit (node:events:518:28)\n    at emitReadable_ (node:internal/streams/readable:834:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:81:21)","timestamp":"2025-09-19T11:49:08.140Z"}
{"level":"error","message":"Max reconnect attempts reached. Exiting...","timestamp":"2025-09-19T11:49:08.141Z"}
{"level":"info","message":"Initializing services...","timestamp":"2025-09-19T12:30:45.528Z"}
{"code":18,"codeName":"AuthenticationFailed","connectionGeneration":0,"level":"error","message":"Failed to initialize services: Authentication failed.","ok":0,"stack":"MongoServerError: Authentication failed.\n    at Connection.onMessage (/home/pps024/Desktop/ils/backend/node_modules/mongodb/lib/cmap/connection.js:202:26)\n    at MessageStream.<anonymous> (/home/pps024/Desktop/ils/backend/node_modules/mongodb/lib/cmap/connection.js:61:60)\n    at MessageStream.emit (node:events:518:28)\n    at processIncomingData (/home/pps024/Desktop/ils/backend/node_modules/mongodb/lib/cmap/message_stream.js:124:16)\n    at MessageStream._write (/home/pps024/Desktop/ils/backend/node_modules/mongodb/lib/cmap/message_stream.js:33:9)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:518:28)","timestamp":"2025-09-19T12:30:45.572Z"}
{"level":"info","message":"Initializing services...","timestamp":"2025-09-19T12:31:29.373Z"}
{"code":18,"codeName":"AuthenticationFailed","connectionGeneration":0,"level":"error","message":"Failed to initialize services: Authentication failed.","ok":0,"stack":"MongoServerError: Authentication failed.\n    at Connection.onMessage (/home/pps024/Desktop/ils/backend/node_modules/mongodb/lib/cmap/connection.js:202:26)\n    at MessageStream.<anonymous> (/home/pps024/Desktop/ils/backend/node_modules/mongodb/lib/cmap/connection.js:61:60)\n    at MessageStream.emit (node:events:518:28)\n    at processIncomingData (/home/pps024/Desktop/ils/backend/node_modules/mongodb/lib/cmap/message_stream.js:124:16)\n    at MessageStream._write (/home/pps024/Desktop/ils/backend/node_modules/mongodb/lib/cmap/message_stream.js:33:9)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at Writable.write (node:internal/streams/writable:510:10)\n    at Socket.ondata (node:internal/streams/readable:1009:22)\n    at Socket.emit (node:events:518:28)","timestamp":"2025-09-19T12:31:29.416Z"}
{"level":"info","message":"Initializing services...","timestamp":"2025-09-19T12:32:48.975Z"}
{"level":"info","message":"Database connected","timestamp":"2025-09-19T12:32:49.014Z"}
{"level":"info","message":"Creating 8 mediasoup workers","timestamp":"2025-09-19T12:32:49.015Z"}
{"level":"info","message":"Mediasoup initialized with 8 workers","timestamp":"2025-09-19T12:32:49.123Z"}
{"level":"error","message":"RabbitMq connection error Cannot read properties of null (reading 'assertExchange')","stack":"TypeError: Cannot read properties of null (reading 'assertExchange')\n    at MessageQueue.setupExchanges (/home/pps024/Desktop/ils/backend/src/services/MessageQueue.js:50:28)\n    at MessageQueue.connect (/home/pps024/Desktop/ils/backend/src/services/MessageQueue.js:35:24)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async initializeServices (/home/pps024/Desktop/ils/backend/server.js:117:9)","timestamp":"2025-09-19T12:32:49.171Z"}
{"level":"info","message":"Attempting RabbitMQ reconnection 1/10","timestamp":"2025-09-19T12:32:49.171Z"}
{"level":"info","message":"Redis client connected","timestamp":"2025-09-19T12:32:49.176Z"}
{"level":"info","message":"Redis client ready","timestamp":"2025-09-19T12:32:49.179Z"}
{"level":"info","message":"Redis connected successfully","timestamp":"2025-09-19T12:32:49.180Z"}
{"level":"info","message":"All services initialized successfully","timestamp":"2025-09-19T12:32:49.180Z"}
{"level":"info","message":"Server running on port 3001","timestamp":"2025-09-19T12:32:49.182Z"}
{"level":"error","message":"RabbitMq connection error Cannot read properties of null (reading 'assertExchange')","stack":"TypeError: Cannot read properties of null (reading 'assertExchange')\n    at MessageQueue.setupExchanges (/home/pps024/Desktop/ils/backend/src/services/MessageQueue.js:50:28)\n    at MessageQueue.connect (/home/pps024/Desktop/ils/backend/src/services/MessageQueue.js:35:24)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-09-19T12:32:54.224Z"}
{"level":"info","message":"Attempting RabbitMQ reconnection 2/10","timestamp":"2025-09-19T12:32:54.224Z"}
{"level":"info","message":"Initializing services...","timestamp":"2025-09-19T12:32:59.415Z"}
{"level":"info","message":"Database connected","timestamp":"2025-09-19T12:32:59.447Z"}
{"level":"info","message":"Creating 8 mediasoup workers","timestamp":"2025-09-19T12:32:59.448Z"}
{"level":"info","message":"Mediasoup initialized with 8 workers","timestamp":"2025-09-19T12:32:59.552Z"}
{"level":"error","message":"RabbitMq connection error Cannot read properties of null (reading 'assertExchange')","stack":"TypeError: Cannot read properties of null (reading 'assertExchange')\n    at MessageQueue.setupExchanges (/home/pps024/Desktop/ils/backend/src/services/MessageQueue.js:50:28)\n    at MessageQueue.connect (/home/pps024/Desktop/ils/backend/src/services/MessageQueue.js:35:24)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async initializeServices (/home/pps024/Desktop/ils/backend/server.js:117:9)","timestamp":"2025-09-19T12:32:59.600Z"}
{"level":"info","message":"Attempting RabbitMQ reconnection 1/10","timestamp":"2025-09-19T12:32:59.600Z"}
{"level":"info","message":"Redis client connected","timestamp":"2025-09-19T12:32:59.604Z"}
{"level":"info","message":"Redis client ready","timestamp":"2025-09-19T12:32:59.606Z"}
{"level":"info","message":"Redis connected successfully","timestamp":"2025-09-19T12:32:59.607Z"}
{"level":"error","message":"RabbitMq connection error Cannot read properties of null (reading 'assertExchange')","stack":"TypeError: Cannot read properties of null (reading 'assertExchange')\n    at MessageQueue.setupExchanges (/home/pps024/Desktop/ils/backend/src/services/MessageQueue.js:50:28)\n    at MessageQueue.connect (/home/pps024/Desktop/ils/backend/src/services/MessageQueue.js:35:24)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-09-19T12:33:04.279Z"}
{"level":"info","message":"Attempting RabbitMQ reconnection 3/10","timestamp":"2025-09-19T12:33:04.281Z"}
{"level":"error","message":"RabbitMq connection error Cannot read properties of null (reading 'assertExchange')","stack":"TypeError: Cannot read properties of null (reading 'assertExchange')\n    at MessageQueue.setupExchanges (/home/pps024/Desktop/ils/backend/src/services/MessageQueue.js:50:28)\n    at MessageQueue.connect (/home/pps024/Desktop/ils/backend/src/services/MessageQueue.js:35:24)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-09-19T12:33:19.326Z"}
{"level":"info","message":"Attempting RabbitMQ reconnection 4/10","timestamp":"2025-09-19T12:33:19.327Z"}
{"level":"error","message":"RabbitMq connection error Cannot read properties of null (reading 'assertExchange')","stack":"TypeError: Cannot read properties of null (reading 'assertExchange')\n    at MessageQueue.setupExchanges (/home/pps024/Desktop/ils/backend/src/services/MessageQueue.js:50:28)\n    at MessageQueue.connect (/home/pps024/Desktop/ils/backend/src/services/MessageQueue.js:35:24)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-09-19T12:33:39.378Z"}
{"level":"info","message":"Attempting RabbitMQ reconnection 5/10","timestamp":"2025-09-19T12:33:39.378Z"}
{"level":"error","message":"RabbitMq connection error Cannot read properties of null (reading 'assertExchange')","stack":"TypeError: Cannot read properties of null (reading 'assertExchange')\n    at MessageQueue.setupExchanges (/home/pps024/Desktop/ils/backend/src/services/MessageQueue.js:50:28)\n    at MessageQueue.connect (/home/pps024/Desktop/ils/backend/src/services/MessageQueue.js:35:24)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-09-19T12:34:04.422Z"}
{"level":"info","message":"Attempting RabbitMQ reconnection 6/10","timestamp":"2025-09-19T12:34:04.422Z"}
{"level":"info","message":"Initializing services...","timestamp":"2025-09-19T12:34:04.608Z"}
{"level":"info","message":"Database connected","timestamp":"2025-09-19T12:34:04.640Z"}
{"level":"info","message":"Creating 8 mediasoup workers","timestamp":"2025-09-19T12:34:04.641Z"}
{"level":"info","message":"Mediasoup initialized with 8 workers","timestamp":"2025-09-19T12:34:04.742Z"}
{"level":"error","message":"RabbitMq connection error Cannot read properties of null (reading 'assertExchange')","stack":"TypeError: Cannot read properties of null (reading 'assertExchange')\n    at MessageQueue.setupExchanges (/home/pps024/Desktop/ils/backend/src/services/MessageQueue.js:50:28)\n    at MessageQueue.connect (/home/pps024/Desktop/ils/backend/src/services/MessageQueue.js:35:24)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async initializeServices (/home/pps024/Desktop/ils/backend/server.js:117:9)","timestamp":"2025-09-19T12:34:04.790Z"}
{"level":"info","message":"Attempting RabbitMQ reconnection 1/10","timestamp":"2025-09-19T12:34:04.790Z"}
{"level":"info","message":"Redis client connected","timestamp":"2025-09-19T12:34:04.794Z"}
{"level":"info","message":"Redis client ready","timestamp":"2025-09-19T12:34:04.797Z"}
{"level":"info","message":"Redis connected successfully","timestamp":"2025-09-19T12:34:04.798Z"}
{"level":"error","message":"RabbitMq connection error Cannot read properties of null (reading 'assertExchange')","stack":"TypeError: Cannot read properties of null (reading 'assertExchange')\n    at MessageQueue.setupExchanges (/home/pps024/Desktop/ils/backend/src/services/MessageQueue.js:50:28)\n    at MessageQueue.connect (/home/pps024/Desktop/ils/backend/src/services/MessageQueue.js:35:24)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-09-19T12:34:34.474Z"}
{"level":"info","message":"Attempting RabbitMQ reconnection 7/10","timestamp":"2025-09-19T12:34:34.475Z"}
{"level":"error","message":"RabbitMq connection error Cannot read properties of null (reading 'assertExchange')","stack":"TypeError: Cannot read properties of null (reading 'assertExchange')\n    at MessageQueue.setupExchanges (/home/pps024/Desktop/ils/backend/src/services/MessageQueue.js:50:28)\n    at MessageQueue.connect (/home/pps024/Desktop/ils/backend/src/services/MessageQueue.js:35:24)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-09-19T12:35:09.525Z"}
{"level":"info","message":"Attempting RabbitMQ reconnection 8/10","timestamp":"2025-09-19T12:35:09.526Z"}
{"level":"info","message":"Initializing services...","timestamp":"2025-09-19T12:35:18.976Z"}
{"level":"info","message":"Database connected","timestamp":"2025-09-19T12:35:19.014Z"}
{"level":"info","message":"Creating 8 mediasoup workers","timestamp":"2025-09-19T12:35:19.015Z"}
{"level":"info","message":"Mediasoup initialized with 8 workers","timestamp":"2025-09-19T12:35:19.119Z"}
{"level":"error","message":"RabbitMq connection error Cannot read properties of null (reading 'assertExchange')","stack":"TypeError: Cannot read properties of null (reading 'assertExchange')\n    at MessageQueue.setupExchanges (/home/pps024/Desktop/ils/backend/src/services/MessageQueue.js:50:28)\n    at MessageQueue.connect (/home/pps024/Desktop/ils/backend/src/services/MessageQueue.js:35:24)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async initializeServices (/home/pps024/Desktop/ils/backend/server.js:117:9)","timestamp":"2025-09-19T12:35:19.168Z"}
{"level":"info","message":"Attempting RabbitMQ reconnection 1/10","timestamp":"2025-09-19T12:35:19.168Z"}
{"level":"info","message":"Redis client connected","timestamp":"2025-09-19T12:35:19.172Z"}
{"level":"info","message":"Redis client ready","timestamp":"2025-09-19T12:35:19.174Z"}
{"level":"info","message":"Redis connected successfully","timestamp":"2025-09-19T12:35:19.175Z"}
{"level":"info","message":"All services initialized successfully","timestamp":"2025-09-19T12:35:19.176Z"}
{"level":"info","message":"Server running on port 3001","timestamp":"2025-09-19T12:35:19.177Z"}
{"level":"error","message":"RabbitMq connection error Cannot read properties of null (reading 'assertExchange')","stack":"TypeError: Cannot read properties of null (reading 'assertExchange')\n    at MessageQueue.setupExchanges (/home/pps024/Desktop/ils/backend/src/services/MessageQueue.js:50:28)\n    at MessageQueue.connect (/home/pps024/Desktop/ils/backend/src/services/MessageQueue.js:35:24)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-09-19T12:35:24.226Z"}
{"level":"info","message":"Attempting RabbitMQ reconnection 2/10","timestamp":"2025-09-19T12:35:24.227Z"}
{"level":"error","message":"RabbitMq connection error Cannot read properties of null (reading 'assertExchange')","stack":"TypeError: Cannot read properties of null (reading 'assertExchange')\n    at MessageQueue.setupExchanges (/home/pps024/Desktop/ils/backend/src/services/MessageQueue.js:50:28)\n    at MessageQueue.connect (/home/pps024/Desktop/ils/backend/src/services/MessageQueue.js:35:24)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-09-19T12:35:34.284Z"}
{"level":"info","message":"Attempting RabbitMQ reconnection 3/10","timestamp":"2025-09-19T12:35:34.286Z"}
{"level":"error","message":"RabbitMq connection error Cannot read properties of null (reading 'assertExchange')","stack":"TypeError: Cannot read properties of null (reading 'assertExchange')\n    at MessageQueue.setupExchanges (/home/pps024/Desktop/ils/backend/src/services/MessageQueue.js:50:28)\n    at MessageQueue.connect (/home/pps024/Desktop/ils/backend/src/services/MessageQueue.js:35:24)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-09-19T12:35:49.339Z"}
{"level":"info","message":"Attempting RabbitMQ reconnection 4/10","timestamp":"2025-09-19T12:35:49.341Z"}
{"level":"info","message":"Initializing services...","timestamp":"2025-09-19T12:35:55.160Z"}
{"level":"info","message":"Database connected","timestamp":"2025-09-19T12:35:55.217Z"}
{"level":"info","message":"Creating 8 mediasoup workers","timestamp":"2025-09-19T12:35:55.217Z"}
{"level":"info","message":"Mediasoup initialized with 8 workers","timestamp":"2025-09-19T12:35:55.350Z"}
{"level":"error","message":"RabbitMq connection error this.channel.assetQueue is not a function","stack":"TypeError: this.channel.assetQueue is not a function\n    at MessageQueue.setUpQueues (/home/pps024/Desktop/ils/backend/src/services/MessageQueue.js:71:28)\n    at MessageQueue.connect (/home/pps024/Desktop/ils/backend/src/services/MessageQueue.js:38:24)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async initializeServices (/home/pps024/Desktop/ils/backend/server.js:117:9)","timestamp":"2025-09-19T12:35:55.408Z"}
{"level":"info","message":"Attempting RabbitMQ reconnection 1/10","timestamp":"2025-09-19T12:35:55.408Z"}
{"level":"info","message":"Redis client connected","timestamp":"2025-09-19T12:35:55.415Z"}
{"level":"info","message":"Redis client ready","timestamp":"2025-09-19T12:35:55.417Z"}
{"level":"info","message":"Redis connected successfully","timestamp":"2025-09-19T12:35:55.418Z"}
{"level":"info","message":"All services initialized successfully","timestamp":"2025-09-19T12:35:55.419Z"}
{"level":"info","message":"Server running on port 3001","timestamp":"2025-09-19T12:35:55.420Z"}
{"level":"info","message":"Initializing services...","timestamp":"2025-09-19T12:36:00.663Z"}
{"level":"info","message":"Database connected","timestamp":"2025-09-19T12:36:00.737Z"}
{"level":"info","message":"Creating 8 mediasoup workers","timestamp":"2025-09-19T12:36:00.738Z"}
{"level":"info","message":"Mediasoup initialized with 8 workers","timestamp":"2025-09-19T12:36:00.878Z"}
{"level":"info","message":"RabbitMQ connected","timestamp":"2025-09-19T12:36:00.953Z"}
{"level":"info","message":"Redis client connected","timestamp":"2025-09-19T12:36:00.957Z"}
{"level":"info","message":"Redis client ready","timestamp":"2025-09-19T12:36:00.959Z"}
{"level":"info","message":"Redis connected successfully","timestamp":"2025-09-19T12:36:00.961Z"}
{"level":"info","message":"All services initialized successfully","timestamp":"2025-09-19T12:36:00.961Z"}
{"level":"info","message":"Server running on port 3001","timestamp":"2025-09-19T12:36:00.962Z"}
{"level":"info","message":"Shutting down gracefully...","timestamp":"2025-09-19T12:36:41.446Z"}
{"level":"info","message":"Cleaning up MediaService...","timestamp":"2025-09-19T12:36:41.448Z"}
{"level":"warn","message":"RabbitMQ connection closed","timestamp":"2025-09-19T12:36:41.453Z"}
{"level":"info","message":"Attempting RabbitMQ reconnection 1/10","timestamp":"2025-09-19T12:36:41.453Z"}
{"level":"info","message":"RabbitMQ connection closed","timestamp":"2025-09-19T12:36:41.453Z"}
{"level":"info","message":"Redis disconnected","timestamp":"2025-09-19T12:36:41.454Z"}
{"level":"info","message":"Initializing services...","timestamp":"2025-09-19T12:44:12.022Z"}
{"level":"info","message":"Database connected","timestamp":"2025-09-19T12:44:12.054Z"}
{"level":"info","message":"Creating 8 mediasoup workers","timestamp":"2025-09-19T12:44:12.055Z"}
{"level":"info","message":"Mediasoup initialized with 8 workers","timestamp":"2025-09-19T12:44:12.171Z"}
{"level":"info","message":"RabbitMQ connected","timestamp":"2025-09-19T12:44:12.225Z"}
{"level":"info","message":"Redis client connected","timestamp":"2025-09-19T12:44:12.229Z"}
{"level":"info","message":"Redis client ready","timestamp":"2025-09-19T12:44:12.232Z"}
{"level":"info","message":"Redis connected successfully","timestamp":"2025-09-19T12:44:12.233Z"}
{"level":"info","message":"All services initialized successfully","timestamp":"2025-09-19T12:44:12.234Z"}
{"level":"info","message":"Server running on port 3001","timestamp":"2025-09-19T12:44:12.235Z"}
{"level":"info","message":"User testuser registered successfully","timestamp":"2025-09-19T12:44:34.376Z"}
{"level":"info","message":"Initializing services...","timestamp":"2025-09-19T12:47:41.478Z"}
{"level":"info","message":"Database connected","timestamp":"2025-09-19T12:47:41.513Z"}
{"level":"info","message":"Creating 8 mediasoup workers","timestamp":"2025-09-19T12:47:41.514Z"}
{"level":"info","message":"Mediasoup initialized with 8 workers","timestamp":"2025-09-19T12:47:41.625Z"}
{"level":"info","message":"RabbitMQ connected","timestamp":"2025-09-19T12:47:41.681Z"}
{"level":"info","message":"Redis client connected","timestamp":"2025-09-19T12:47:41.684Z"}
{"level":"info","message":"Redis client ready","timestamp":"2025-09-19T12:47:41.686Z"}
{"level":"info","message":"Redis connected successfully","timestamp":"2025-09-19T12:47:41.688Z"}
{"level":"info","message":"All services initialized successfully","timestamp":"2025-09-19T12:47:41.688Z"}
{"level":"info","message":"Server running on port 3001","timestamp":"2025-09-19T12:47:41.689Z"}
{"level":"info","message":"User testuser1758286069138 registered successfully","timestamp":"2025-09-19T12:47:49.359Z"}
{"level":"info","message":"User testuser1758286081375 registered successfully","timestamp":"2025-09-19T12:48:01.579Z"}
{"level":"info","message":"User testuser1758286101893 registered successfully","timestamp":"2025-09-19T12:48:22.099Z"}
{"level":"info","message":"User testuser1758286101893 logged in successfully","timestamp":"2025-09-19T12:48:22.311Z"}
{"level":"info","message":"User testuser1758286139598 registered successfully","timestamp":"2025-09-19T12:48:59.800Z"}
{"level":"info","message":"User testuser1758286139598 logged in successfully","timestamp":"2025-09-19T12:49:00.007Z"}
{"level":"info","message":"Initializing services...","timestamp":"2025-09-19T12:49:24.139Z"}
{"level":"info","message":"Database connected","timestamp":"2025-09-19T12:49:24.173Z"}
{"level":"info","message":"Creating 8 mediasoup workers","timestamp":"2025-09-19T12:49:24.174Z"}
{"level":"info","message":"Mediasoup initialized with 8 workers","timestamp":"2025-09-19T12:49:24.279Z"}
{"level":"info","message":"RabbitMQ connected","timestamp":"2025-09-19T12:49:24.335Z"}
{"level":"info","message":"Redis client connected","timestamp":"2025-09-19T12:49:24.338Z"}
{"level":"info","message":"Redis client ready","timestamp":"2025-09-19T12:49:24.340Z"}
{"level":"info","message":"User testuser1758286172408 registered successfully","timestamp":"2025-09-19T12:49:32.609Z"}
{"level":"info","message":"User testuser1758286172408 logged in successfully","timestamp":"2025-09-19T12:49:32.813Z"}
{"level":"info","message":"User testuser1758286187479 registered successfully","timestamp":"2025-09-19T12:49:47.697Z"}
{"level":"info","message":"Initializing services...","timestamp":"2025-09-19T12:50:04.991Z"}
{"level":"info","message":"Database connected","timestamp":"2025-09-19T12:50:05.026Z"}
{"level":"info","message":"Creating 8 mediasoup workers","timestamp":"2025-09-19T12:50:05.028Z"}
{"level":"info","message":"Mediasoup initialized with 8 workers","timestamp":"2025-09-19T12:50:05.131Z"}
{"level":"info","message":"RabbitMQ connected","timestamp":"2025-09-19T12:50:05.187Z"}
{"level":"info","message":"Redis client connected","timestamp":"2025-09-19T12:50:05.191Z"}
{"level":"info","message":"Redis client ready","timestamp":"2025-09-19T12:50:05.193Z"}
{"level":"info","message":"Redis connected successfully","timestamp":"2025-09-19T12:50:05.194Z"}
{"level":"info","message":"All services initialized successfully","timestamp":"2025-09-19T12:50:05.195Z"}
{"level":"info","message":"Server running on port 3001","timestamp":"2025-09-19T12:50:05.196Z"}
{"level":"info","message":"User testuser1758286214719 registered successfully","timestamp":"2025-09-19T12:50:14.959Z"}
{"level":"info","message":"User testuser1758286221321 registered successfully","timestamp":"2025-09-19T12:50:21.524Z"}
{"level":"info","message":"User testuser1758286221321 logged in successfully","timestamp":"2025-09-19T12:50:21.732Z"}
{"level":"error","message":"Get streams error: Cannot read properties of undefined (reading 'getActiveStreams')","stack":"TypeError: Cannot read properties of undefined (reading 'getActiveStreams')\n    at /home/pps024/Desktop/ils/backend/src/routes/routes.stream.js:112:39\n    at Layer.handle [as handle_request] (/home/pps024/Desktop/ils/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/pps024/Desktop/ils/backend/node_modules/express/lib/router/route.js:149:13)\n    at middleware (/home/pps024/Desktop/ils/backend/node_modules/express-validator/lib/middlewares/check.js:16:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-09-19T12:50:21.749Z"}
{"level":"info","message":"User testuser1758286278587 registered successfully","timestamp":"2025-09-19T12:51:18.786Z"}
{"level":"info","message":"User testuser1758286278587 logged in successfully","timestamp":"2025-09-19T12:51:18.992Z"}
{"level":"error","message":"Get streams error: Cannot read properties of undefined (reading 'getActiveStreams')","stack":"TypeError: Cannot read properties of undefined (reading 'getActiveStreams')\n    at /home/pps024/Desktop/ils/backend/src/routes/routes.stream.js:112:39\n    at Layer.handle [as handle_request] (/home/pps024/Desktop/ils/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/pps024/Desktop/ils/backend/node_modules/express/lib/router/route.js:149:13)\n    at middleware (/home/pps024/Desktop/ils/backend/node_modules/express-validator/lib/middlewares/check.js:16:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-09-19T12:51:19.007Z"}
{"level":"info","message":"Initializing services...","timestamp":"2025-09-19T12:51:58.174Z"}
{"level":"info","message":"Database connected","timestamp":"2025-09-19T12:51:58.207Z"}
{"level":"info","message":"Creating 8 mediasoup workers","timestamp":"2025-09-19T12:51:58.211Z"}
{"level":"info","message":"Mediasoup initialized with 8 workers","timestamp":"2025-09-19T12:51:58.310Z"}
{"level":"info","message":"RabbitMQ connected","timestamp":"2025-09-19T12:51:58.363Z"}
{"level":"info","message":"Redis client connected","timestamp":"2025-09-19T12:51:58.367Z"}
{"level":"info","message":"Redis client ready","timestamp":"2025-09-19T12:51:58.369Z"}
{"level":"info","message":"Redis connected successfully","timestamp":"2025-09-19T12:51:58.370Z"}
{"level":"info","message":"All services initialized successfully","timestamp":"2025-09-19T12:51:58.413Z"}
{"level":"info","message":"Server running on port 3001","timestamp":"2025-09-19T12:51:58.414Z"}
{"level":"info","message":"Initializing services...","timestamp":"2025-09-19T12:53:04.048Z"}
{"level":"info","message":"Database connected","timestamp":"2025-09-19T12:53:04.081Z"}
{"level":"info","message":"Creating 8 mediasoup workers","timestamp":"2025-09-19T12:53:04.082Z"}
{"level":"info","message":"Mediasoup initialized with 8 workers","timestamp":"2025-09-19T12:53:04.183Z"}
{"level":"info","message":"RabbitMQ connected","timestamp":"2025-09-19T12:53:04.236Z"}
{"level":"info","message":"Redis client connected","timestamp":"2025-09-19T12:53:04.240Z"}
{"level":"info","message":"Redis client ready","timestamp":"2025-09-19T12:53:04.243Z"}
{"level":"info","message":"Redis connected successfully","timestamp":"2025-09-19T12:53:04.244Z"}
{"level":"info","message":"All services initialized successfully","timestamp":"2025-09-19T12:53:04.288Z"}
{"level":"info","message":"Server running on port 3001","timestamp":"2025-09-19T12:53:04.289Z"}
{"level":"info","message":"User testuser1758286394694 registered successfully","timestamp":"2025-09-19T12:53:14.919Z"}
{"level":"info","message":"User testuser1758286394694 logged in successfully","timestamp":"2025-09-19T12:53:15.126Z"}
{"level":"info","message":"User testuser1758286420208 registered successfully","timestamp":"2025-09-19T12:53:40.425Z"}
{"level":"info","message":"User testuser1758286420208 logged in successfully","timestamp":"2025-09-19T12:53:40.635Z"}
{"level":"info","message":"Room created: 4129bca5-2129-4b64-9bf1-cb7753e75e59 on worker 0","timestamp":"2025-09-19T12:53:40.659Z"}
{"level":"info","message":"Stream created: 4129bca5-2129-4b64-9bf1-cb7753e75e59 by user 68cd5254af59678b654e5762","timestamp":"2025-09-19T12:53:40.667Z"}
{"level":"info","message":"Stream created: 4129bca5-2129-4b64-9bf1-cb7753e75e59 by user 68cd5254af59678b654e5762","timestamp":"2025-09-19T12:53:40.667Z"}
{"level":"info","message":"User 68cd5254af59678b654e5762 joined stream 4129bca5-2129-4b64-9bf1-cb7753e75e59","timestamp":"2025-09-19T12:53:40.683Z"}
{"_message":"ChatMessage validation failed","errors":{"deletedReason":{"kind":"enum","message":"`null` is not a valid enum value for path `deletedReason`.","name":"ValidatorError","path":"deletedReason","properties":{"enumValues":["spam","inappropriate","harassment","off-topic","other"],"message":"`null` is not a valid enum value for path `deletedReason`.","path":"deletedReason","type":"enum","value":null},"value":null}},"level":"warn","message":"Chat message database save failed: ChatMessage validation failed: deletedReason: `null` is not a valid enum value for path `deletedReason`.","stack":"ValidationError: ChatMessage validation failed: deletedReason: `null` is not a valid enum value for path `deletedReason`.\n    at Document.invalidate (/home/pps024/Desktop/ils/backend/node_modules/mongoose/lib/document.js:3219:32)\n    at /home/pps024/Desktop/ils/backend/node_modules/mongoose/lib/document.js:3012:17\n    at /home/pps024/Desktop/ils/backend/node_modules/mongoose/lib/schematype.js:1368:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)","timestamp":"2025-09-19T12:53:40.699Z"}
{"level":"error","message":"Error publishing chat message: data is not defined","stack":"ReferenceError: data is not defined\n    at MessageQueue.publishChatMessage (/home/pps024/Desktop/ils/backend/src/services/MessageQueue.js:158:29)\n    at ChatService.sendMessage (/home/pps024/Desktop/ils/backend/src/services/ChatService.js:61:31)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async /home/pps024/Desktop/ils/backend/src/routes/routes.chat.js:153:29","timestamp":"2025-09-19T12:53:40.700Z"}
{"classId":60,"code":404,"level":"error","message":"RabbitMQ connection error: Channel closed by server: 404 (NOT-FOUND) with message \"NOT_FOUND - no exchange 'analytics.events' in vhost '/'\"","methodId":40,"stack":"Error: Channel closed by server: 404 (NOT-FOUND) with message \"NOT_FOUND - no exchange 'analytics.events' in vhost '/'\"\n    at Channel.accept (/home/pps024/Desktop/ils/backend/node_modules/amqplib/lib/channel.js:324:19)\n    at Connection.mainAccept [as accept] (/home/pps024/Desktop/ils/backend/node_modules/amqplib/lib/connection.js:579:33)\n    at Socket.go (/home/pps024/Desktop/ils/backend/node_modules/amqplib/lib/connection.js:431:16)\n    at Socket.emit (node:events:518:28)\n    at emitReadable_ (node:internal/streams/readable:834:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:81:21)","timestamp":"2025-09-19T12:53:40.711Z"}
{"level":"info","message":"Attempting RabbitMQ reconnection 1/10","timestamp":"2025-09-19T12:53:40.711Z"}
{"level":"warn","message":"RabbitMQ connection closed","timestamp":"2025-09-19T12:53:40.712Z"}
{"level":"info","message":"Attempting RabbitMQ reconnection 2/10","timestamp":"2025-09-19T12:53:40.712Z"}
{"level":"error","message":"Error publishing stream event Channel closed","stack":"IllegalOperationError: Channel closed\n    at Channel.<anonymous> (/home/pps024/Desktop/ils/backend/node_modules/amqplib/lib/channel.js:373:11)\n    at Channel.publish (/home/pps024/Desktop/ils/backend/node_modules/amqplib/lib/channel_model.js:158:17)\n    at MessageQueue.publishStreamEvent (/home/pps024/Desktop/ils/backend/src/services/MessageQueue.js:138:32)\n    at StreamService.endStream (/home/pps024/Desktop/ils/backend/src/services/StreamService.js:253:37)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async /home/pps024/Desktop/ils/backend/src/routes/routes.stream.js:331:22","stackAtStateChange":"Stack capture: Socket error\n    at Connection.onSocketError (/home/pps024/Desktop/ils/backend/node_modules/amqplib/lib/connection.js:307:15)\n    at Connection.emit (node:events:518:28)\n    at Socket.go (/home/pps024/Desktop/ils/backend/node_modules/amqplib/lib/connection.js:434:14)\n    at Socket.emit (node:events:518:28)\n    at emitReadable_ (node:internal/streams/readable:834:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:81:21)","timestamp":"2025-09-19T12:53:40.730Z"}
{"level":"error","message":"Error publishing analytics event: Channel closed","stack":"IllegalOperationError: Channel closed\n    at Channel.<anonymous> (/home/pps024/Desktop/ils/backend/node_modules/amqplib/lib/channel.js:373:11)\n    at Channel.publish (/home/pps024/Desktop/ils/backend/node_modules/amqplib/lib/channel_model.js:158:17)\n    at MessageQueue.publishAnalyticsEvent (/home/pps024/Desktop/ils/backend/src/services/MessageQueue.js:192:32)\n    at StreamService.endStream (/home/pps024/Desktop/ils/backend/src/services/StreamService.js:263:37)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async /home/pps024/Desktop/ils/backend/src/routes/routes.stream.js:331:22","stackAtStateChange":"Stack capture: Socket error\n    at Connection.onSocketError (/home/pps024/Desktop/ils/backend/node_modules/amqplib/lib/connection.js:307:15)\n    at Connection.emit (node:events:518:28)\n    at Socket.go (/home/pps024/Desktop/ils/backend/node_modules/amqplib/lib/connection.js:434:14)\n    at Socket.emit (node:events:518:28)\n    at emitReadable_ (node:internal/streams/readable:834:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:81:21)","timestamp":"2025-09-19T12:53:40.730Z"}
{"level":"info","message":"Stream ended: 4129bca5-2129-4b64-9bf1-cb7753e75e59 by user 68cd5254af59678b654e5762","timestamp":"2025-09-19T12:53:40.731Z"}
{"level":"info","message":"Stream ended: 4129bca5-2129-4b64-9bf1-cb7753e75e59 by user 68cd5254af59678b654e5762","timestamp":"2025-09-19T12:53:40.731Z"}
{"level":"info","message":"RabbitMQ connected","timestamp":"2025-09-19T12:53:45.792Z"}
{"level":"info","message":"RabbitMQ connected","timestamp":"2025-09-19T12:53:50.784Z"}
{"level":"info","message":"User testuser1758286458985 registered successfully","timestamp":"2025-09-19T12:54:19.201Z"}
{"level":"info","message":"User testuser1758286458985 logged in successfully","timestamp":"2025-09-19T12:54:19.406Z"}
{"level":"info","message":"Client connected: bisFO4BYRYhRvEgKAAAB, User: 68cd527baf59678b654e577a","timestamp":"2025-09-19T12:54:19.429Z"}
{"level":"info","message":"Room created: bdaec5d1-6a27-4ca1-b419-2f4fec821a25 on worker 1","timestamp":"2025-09-19T12:54:19.436Z"}
{"_message":"Stream validation failed","errors":{"category":{"kind":"required","message":"Path `category` is required.","name":"ValidatorError","path":"category","properties":{"message":"Path `category` is required.","path":"category","type":"required","value":""},"value":""}},"level":"warn","message":"Database save failed, continuing with cache: Stream validation failed: category: Path `category` is required.","stack":"ValidationError: Stream validation failed: category: Path `category` is required.\n    at Document.invalidate (/home/pps024/Desktop/ils/backend/node_modules/mongoose/lib/document.js:3219:32)\n    at /home/pps024/Desktop/ils/backend/node_modules/mongoose/lib/document.js:3012:17\n    at /home/pps024/Desktop/ils/backend/node_modules/mongoose/lib/schematype.js:1368:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)","timestamp":"2025-09-19T12:54:19.438Z"}
{"level":"info","message":"Stream created: bdaec5d1-6a27-4ca1-b419-2f4fec821a25 by user 68cd527baf59678b654e577a","timestamp":"2025-09-19T12:54:19.439Z"}
{"level":"info","message":"Stream created: bdaec5d1-6a27-4ca1-b419-2f4fec821a25 by user: 68cd527baf59678b654e577a","timestamp":"2025-09-19T12:54:19.439Z"}
{"level":"info","message":"User 68cd527baf59678b654e577a joined stream bdaec5d1-6a27-4ca1-b419-2f4fec821a25","timestamp":"2025-09-19T12:54:19.443Z"}
{"level":"info","message":"User 68cd527baf59678b654e577a joined stream bdaec5d1-6a27-4ca1-b419-2f4fec821a25","timestamp":"2025-09-19T12:54:19.444Z"}
{"classId":60,"code":404,"level":"error","message":"RabbitMQ connection error: Channel closed by server: 404 (NOT-FOUND) with message \"NOT_FOUND - no exchange 'analytics.events' in vhost '/'\"","methodId":40,"stack":"Error: Channel closed by server: 404 (NOT-FOUND) with message \"NOT_FOUND - no exchange 'analytics.events' in vhost '/'\"\n    at Channel.accept (/home/pps024/Desktop/ils/backend/node_modules/amqplib/lib/channel.js:324:19)\n    at Connection.mainAccept [as accept] (/home/pps024/Desktop/ils/backend/node_modules/amqplib/lib/connection.js:579:33)\n    at Socket.go (/home/pps024/Desktop/ils/backend/node_modules/amqplib/lib/connection.js:431:16)\n    at Socket.emit (node:events:518:28)\n    at emitReadable_ (node:internal/streams/readable:834:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:81:21)","timestamp":"2025-09-19T12:54:19.481Z"}
{"level":"info","message":"Attempting RabbitMQ reconnection 3/10","timestamp":"2025-09-19T12:54:19.481Z"}
{"level":"warn","message":"RabbitMQ connection closed","timestamp":"2025-09-19T12:54:19.482Z"}
{"level":"info","message":"Attempting RabbitMQ reconnection 4/10","timestamp":"2025-09-19T12:54:19.482Z"}
{"level":"info","message":"Client disconnecting: bisFO4BYRYhRvEgKAAAB","timestamp":"2025-09-19T12:54:21.435Z"}
{"level":"info","message":"Client disconnected: bisFO4BYRYhRvEgKAAAB, Reason: client namespace disconnect","timestamp":"2025-09-19T12:54:21.436Z"}
{"level":"error","message":"Error publishing user presence: Channel closed","stack":"IllegalOperationError: Channel closed\n    at Channel.<anonymous> (/home/pps024/Desktop/ils/backend/node_modules/amqplib/lib/channel.js:373:11)\n    at Channel.publish (/home/pps024/Desktop/ils/backend/node_modules/amqplib/lib/channel_model.js:158:17)\n    at MessageQueue.publishUserPresence (/home/pps024/Desktop/ils/backend/src/services/MessageQueue.js:223:32)\n    at StreamService.handleUserDisconnect (/home/pps024/Desktop/ils/backend/src/services/StreamService.js:292:37)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async Socket.<anonymous> (/home/pps024/Desktop/ils/backend/server.js:345:21)","stackAtStateChange":"Stack capture: Socket error\n    at Connection.onSocketError (/home/pps024/Desktop/ils/backend/node_modules/amqplib/lib/connection.js:307:15)\n    at Connection.emit (node:events:518:28)\n    at Socket.go (/home/pps024/Desktop/ils/backend/node_modules/amqplib/lib/connection.js:434:14)\n    at Socket.emit (node:events:518:28)\n    at emitReadable_ (node:internal/streams/readable:834:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:81:21)","timestamp":"2025-09-19T12:54:21.438Z"}
{"level":"info","message":"RabbitMQ connected","timestamp":"2025-09-19T12:54:34.543Z"}
{"level":"info","message":"RabbitMQ connected","timestamp":"2025-09-19T12:54:39.534Z"}
